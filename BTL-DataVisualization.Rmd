---
title: "BTL-DataVisualization"
date: "2025-11-06"
output:
  html_document: default
  pdf_document: default
---
```{r}
StudentsPerformance <- read.csv("C:/Users/ASUS/Downloads/New_data.csv")
```
```{r library, echo=TRUE,message=FALSE, warning=FALSE}
library(ggplot2)
library(plotly)
library(shiny)
```
Trong phần này, dữ liệu được trực quan hóa thông qua các biểu đồ Histogram và Boxplot nhằm mô tả đặc điểm phân bố điểm số của học sinh, cũng như đánh giá sự khác biệt giữa các nhóm nhân khẩu học và điều kiện học tập. Việc trình bày dữ liệu bằng đồ thị giúp quan sát xu hướng tổng quát, phát hiện các giá trị ngoại lai và hiểu rõ mức độ biến thiên của từng biến trong bộ dữ liệu.\
**1. Trực quan hóa bằng đồ thị Histogram.**\
*Khởi tạo đồ thị histogram sử dụng thư viện ggplot2*
```{r,  fig.align='center', message=FALSE, warning=FALSE}
ggplot(StudentsPerformance, aes(x = total.score)) +
  geom_histogram(fill = "steelblue", color = "black",alpha = 0.7) +  
  labs(title = "Phân phối total.score",
       x = "total.score",
       y = "Số lượng") +
  theme_minimal()+
    theme(plot.title = element_text(hjust = 0.5))
```
Đồ thị Histogram trên mô tả phân bố *total.score* của 1000 học sinh trong tập dữ liệu. Quan sát đồ thị cho thấy:

- Dữ liệu tập trung nhiều nhất ở vùng từ khoảng 180 đến 240 điểm .Đây là vùng có tần suất xuất hiện cao nhất, tạo thành phần đỉnh chuông rõ rệt.
- Dải điểm từ 0 đến 100 hiếm gặp, chỉ có vài học sinh đạt mức này .Điều này tạo nên phần đuôi hơi lệch trái.
- Một số học sinh đạt tổng điểm rất cao (trên 280 điểm), nhưng số lượng không nhiều.
- Tổng điểm trải dài từ khoảng 20 đến 300, cho thấy sự khác biệt đáng kể về năng lực học sinh.\

**2.Trực quan hóa bằng đồ thị Boxplot.**\
*Khởi tạo lần lượt 5 đồ thị Boxplot sử dụng thư viện ggplot2*
```{r graph}
graph1 <- ggplot(
StudentsPerformance, aes(x=gender, y=total.score , fill=gender))+
geom_boxplot()+ 
labs(title= "Ảnh hưởng của gender lên total.score",x="gender",y="total.score")+
scale_fill_brewer(palette = "Set2")+ #đổi màu biểu đồ 
theme(legend.position="none", plot.title = element_text(hjust = 0.5, size = 13)
      )
graph2 <- ggplot(
StudentsPerformance, aes(x=race.ethnicity, y=total.score, fill=race.ethnicity))+
geom_boxplot()+
labs(title="Ảnh hưởng của race.ethnicity lên total.score",x="race.ethnicity",y="total.score")+
scale_fill_brewer(palette="Pastel1")+ 
theme(legend.position="none", plot.title = element_text(hjust = 0.5, size = 13)
      )
graph3 <- ggplot(
StudentsPerformance, aes(x=parental.level.of.education, y=total.score, fill=parental.level.of.education)) +
geom_boxplot()+
labs(title= "Ảnh hưởng của parental.level.of.education lên total.score",x="parental.level.of.education	",y="total.score") + scale_fill_brewer(palette = "PiYG")+
theme(legend.position="none", plot.title = element_text(hjust = 0.5, size = 13)
      )
graph4 <- ggplot(
StudentsPerformance, aes(x=lunch, y=total.score, fill=lunch)) +
geom_boxplot()+
labs(title= "Ảnh hưởng của lunch lên total.score",
x="lunch",y="total.score") + scale_fill_brewer(palette = "Paired")+
theme(legend.position="none", plot.title = element_text(hjust = 0.5, size = 13)
      )
graph5 <- ggplot(
StudentsPerformance, aes(x=test.preparation.course, y=total.score, fill=test.preparation.course)) +
geom_boxplot()+
labs(title= "Ảnh hưởng của test.preparation.course\n lên total.score",
x="test.preparation.course",y="total.score") + scale_fill_brewer(palette = "Set3")+
theme(legend.position="none", plot.title = element_text(hjust = 0.5, size = 13)
      )
```

```{r echo=FALSE}
div(
  style = "display:flex; justify-content:center;",
 div(style = "width:48%;", ggplotly(graph1))
)
```

```{r echo=FALSE}
div(ggplotly(graph2))
```

```{r echo = FALSE}
div(ggplotly(graph3))
```


```{r echo=FALSE}
div(
  style = "display:flex; justify-content:space-between;",
  div(style = "width:48%;", ggplotly(graph4)),
  div(style = "width:48%;", ggplotly(graph5))
)
```

**Nhận xét:**\
Đồ thị Boxplot phân phối *total.score* theo *gender*:\

- Nhìn chung, nữ có kết quả tốt hơn nam: trung vị *total.score* của nữ= 211, cao hơn nam= 199; khoảng tứ phân vị của nữ cũng dịch lên phía điểm cao hơn (Q1= 182, Q3= 236 so với nam Q1= 168, Q3= 229).
- Độ phân tán đều khá lớn ở cả hai giới, nhưng nhóm nữ xuất hiện điểm rất thấp min= 27, lower fence= 103), trong khi nam có điểm thấp nhất cao hơn với min= 69 và lower fence= 78).
- Điểm tối đa đều là 300 cho cả nam và nữ, cho thấy cả hai nhóm đều có học sinh đạt mức điểm tổng cao nhất trong bộ dữ liệu.

Đồ thị Boxplot phân phối *total.score* theo *race.ethnicity*:\

- Điểm tổng tăng dần theo nhóm: *group A/B* có trung vị thấp hơn: 184 và 195, rồi đến *group  C/D*, cao nhất là *group E*: 220.
- *Group E* tập trung nhiều học sinh điểm cao, Q3= 247, max gần 300, còn *group A* xuất hiện nhiều điểm thấp hơn, nhiều điểm bé hơn 150.
- Các hộp vẫn chồng lấn khá nhiều, nên *race.ethnicity* có xu hướng ảnh hưởng đến *total.score* nhưng không tách biệt hoàn toàn giữa các nhóm.

Đồ thị Boxplot phân phối *total.score* theo *parental.level.of.education*:\

- Tổng điểm của học sinh có cha mẹ học *master’s degree* và *bachelor’s degree* nhìn chung cao hơn các nhóm còn lại.
- Nhóm *master’s degree* có trung vị *total.score* cao nhất: 220), trong khi nhóm *high school* thấp nhất: 195, các mức học vấn khác nằm ở giữa.
- Độ phân tán giữa các nhóm khá tương tự, tức là sự khác biệt chủ yếu nằm ở mức điểm trung tâm, không phải ở độ biến thiên.

Đồ thị Boxplot phân phối *total.score* theo *lunch*:\

- Học sinh dùng *standard lunch* có trung vị *total.score* khoảng 214, cao hơn khá rõ so với nhóm *free/reduced* chỉ khoảng 188.
- Phần lớn điểm của nhóm *standard* tập trung ở vùng điểm cao hơn (186,75–239), còn nhóm *free/reduced* trải rộng hơn về phía điểm thấp.
- Điểm thấp nhất của nhóm *free/reduced*: 27, thấp hơn nhiều so với nhóm *standard*: 78.

Đồ thị Boxplot phân phối *total.score* theo *test.preparation.course*:\

- Trung vị *total.score* của nhóm *completed* khoảng 220,5, cao hơn rõ rệt so với nhóm *none* khoảng 196.
- Khoảng tứ phân vị của *completed* (195–247) cũng nằm cao hơn so với *none* (166–225), cho thấy mặt bằng điểm tốt hơn.
- Điểm thấp nhất của nhóm *completed* khoảng 103, trong khi nhóm *none* có nhiều học sinh điểm rất thấp (min chỉ khoảng 27).


Tóm lại, các biến *gender*, *race.ethnicity*, *parental.level.of.education*, *lunch* và *test.preparation.course* đều có ảnh hưởng đáng kể đến *total.score*, và cần được xem xét kỹ khi phân tích và xây dựng mô hình dự đoán kết quả học tập.
